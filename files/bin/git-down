#!/usr/bin/env sh

# Check the status of the repo, if there are changes then add them
if [[ -n $(git status --porcelain) ]]; then
  git add --all
else
  echo "There are no changes to commit."
  exit 1
fi

# Get the message of the last commit
commit_message=$(git log -1 --pretty=%B)

# Amend the last commit with the new changes
git commit --amend -m "$commit_message"

echo "The last commit has been successfully amended with the new changes."
